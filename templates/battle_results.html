{% extends 'base.html' %}
{% load static %}

{% block extra_styles %}
<link rel="stylesheet" href="{% static 'css/styles.css' %}">
{% endblock %}

{% block title %}Battle Results for {{ character_name }}{% endblock %}

{% block content %}
<div class="container">
  <header>
    <h1>Battle Results for {{ character_name }}</h1>
  </header>
  <main>
    <table class="results-table">
      <thead>
        <tr>
          <th>Timestamp</th>
          <th>Character</th>
          <th>Artifact</th>
          <th>Opponent</th>
          <th>Opponent Artifact</th>
          <th>Result</th>
        </tr>
      </thead>
      <tbody>
        {% for outcome in outcomes %}
          <tr>
            <td>{{ outcome.timestamp|date:"Y-m-d H:i:s" }}</td>
            <td>{{ outcome.player }}</td>
            <td>
              {% if outcome.main_artifact %}
                {{ outcome.main_artifact.artifact_name }}
              {% else %}
                None
              {% endif %}
            </td>
            <td>{{ outcome.opponent }}</td>
            <td>
              {% if outcome.opponent_artifact %}
                {{ outcome.opponent_artifact.artifact_name }}
              {% else %}
                None
              {% endif %}
            </td>
            <td>{{ outcome.outcome }}</td>
          </tr>
        {% empty %}
          <tr>
            <td colspan="6">No battle outcomes found.</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
    <a href="{% url 'index' %}" class="back-button">Back to Character Selection</a>
  </main>
</div>
{% endblock %}